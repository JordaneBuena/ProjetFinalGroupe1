{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../klass.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../calendar/calendar.component\";\nfunction KlassDetailComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h4\", 11);\n    i0.ɵɵtext(2, \"Verification pour suppression\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 12)(4, \"form\")(5, \"div\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 14)(8, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function KlassDetailComponent_ng_template_17_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteById());\n    });\n    i0.ɵɵtext(9, \"OUI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function KlassDetailComponent_ng_template_17_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.close(\"Save click\"));\n    });\n    i0.ɵɵtext(11, \"NON\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" Voulez-vous vraiment supprimer la classe : \", ctx_r1.klass == null ? null : ctx_r1.klass.name, \" \");\n  }\n}\nexport class KlassDetailComponent {\n  constructor(klassServ, activatedRoute, modalService, router) {\n    this.klassServ = klassServ;\n    this.activatedRoute = activatedRoute;\n    this.modalService = modalService;\n    this.router = router;\n  }\n  ngOnInit() {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"kId\") || \"\";\n    if (id != '') {\n      this.klassServ.findOne(+id).subscribe(v => this.klass = v);\n    }\n  }\n  open(content) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"\n    });\n  }\n  deleteById() {\n    this.klassServ.delete(this.klass ? this.klass.id : -1).subscribe(v => {\n      this.currentModal?.close();\n      this.router.navigate(['../'], {\n        relativeTo: this.activatedRoute\n      });\n    });\n  }\n}\nKlassDetailComponent.ɵfac = function KlassDetailComponent_Factory(t) {\n  return new (t || KlassDetailComponent)(i0.ɵɵdirectiveInject(i1.KlassService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i2.Router));\n};\nKlassDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KlassDetailComponent,\n  selectors: [[\"app-klass-detail\"]],\n  decls: 20,\n  vars: 3,\n  consts: [[1, \"corps\"], [1, \"detail\"], [1, \"card\", \"w-25\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"card-text\"], [1, \"card-footer\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"routerLink\", \"../\", 1, \"btn\", \"btn-outline-info\"], [\"content\", \"\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"]],\n  template: function KlassDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"D\\u00E9tails de la classe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"h4\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5);\n      i0.ɵɵtext(9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 6)(11, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function KlassDetailComponent_Template_button_click_11_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r0 = i0.ɵɵreference(18);\n        return i0.ɵɵresetView(ctx.open(_r0));\n      });\n      i0.ɵɵtext(12, \"Supprimer la classe\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"div\")(15, \"button\", 8);\n      i0.ɵɵtext(16, \"Retour vue classes\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(17, KlassDetailComponent_ng_template_17_Template, 12, 1, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelement(19, \"app-calendar\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.klass == null ? null : ctx.klass.name);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate2(\" Professeur principal : \", ctx.klass == null ? null : ctx.klass.principalTeacher == null ? null : ctx.klass.principalTeacher.lastName, \" \", ctx.klass == null ? null : ctx.klass.principalTeacher == null ? null : ctx.klass.principalTeacher.firstName, \" \");\n    }\n  },\n  dependencies: [i2.RouterLink, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i5.CalendarComponent],\n  styles: [\".corps[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{\\n  padding: 20px 0 20px 50px;\\n  max-width: 100vw;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAva2xhc3MtZGV0YWlsL2tsYXNzLWRldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb3JwcyAuZGV0YWlse1xuICBwYWRkaW5nOiAyMHB4IDAgMjBweCA1MHB4O1xuICBtYXgtd2lkdGg6IDEwMHZ3O1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAqBIA,+BAA0B;IACuBA,6CAA6B;IAAAA,iBAAK;IAEnFA,+BAAwB;IAGlBA,YACF;IAAAA,iBAAM;IAGVA,+BAA0B;IAC2BA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;IACtFA,mCAAuF;IAApCA;MAAA;MAAA;MAAA,OAASA,8BAAY,YAAY,CAAC;IAAA,EAAC;IAACA,oBAAG;IAAAA,iBAAS;;;;IAN/FA,eACF;IADEA,2HACF;;;ACfR,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,SAAuB,EACvBC,cAA8B,EAC9BC,YAAsB,EACtBC,MAAc;IAHd,cAAS,GAATH,SAAS;IACT,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IACZ,WAAM,GAANC,MAAM;EAC1B;EAEAC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACJ,cAAc,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE;IACjE,IAAIH,EAAE,IAAI,EAAE,EAAE;MACZ,IAAI,CAACL,SAAS,CAACS,OAAO,CAAC,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,CAAC,IAAI,IAAI,CAACC,KAAK,GAAGD,CAAC,CAAC;;EAE9D;EAEAE,IAAI,CAACC,OAAY;IACf,IAAI,CAACC,YAAY,GAAG,IAAI,CAACb,YAAY,CAACW,IAAI,CAACC,OAAO,EAAE;MAClDE,cAAc,EAAE,mBAAmB;MACnCC,QAAQ,EAAE;KAAS,CAAC;EACxB;EAEAC,UAAU;IACR,IAAI,CAAClB,SAAS,CAACmB,MAAM,CAAC,IAAI,CAACP,KAAK,GAAG,IAAI,CAACA,KAAK,CAACP,EAAE,GAAG,CAAC,CAAC,CAAC,CAACK,SAAS,CAACC,CAAC,IAAG;MACnE,IAAI,CAACI,YAAY,EAAEK,KAAK,EAAE;MAC1B,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE;QAACC,UAAU,EAAE,IAAI,CAACrB;MAAc,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;;AA9BWH,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDbjC9B,8BAAmB;MAEXA,yCAAoB;MAAAA,iBAAK;MAE7BA,8BAAuB;MACGA,YAAe;MAAAA,iBAAK;MAC5CA,8BAAuB;MAEnBA,YACF;MAAAA,iBAAM;MAERA,+BAAyB;MACQA;QAAAA;QAAA;QAAA,OAASA,4BAAa;MAAA,EAAC;MAACA,oCAAmB;MAAAA,iBAAS;MAGvFA,sBAAI;MACJA,4BAAK;MACiEA,mCAAkB;MAAAA,iBAAS;MAGnGA,yHAec;MAEdA,gCAA6B;MAC/BA,iBAAM;;;MAjCwBA,eAAe;MAAfA,+DAAe;MAGnCA,eACF;MADEA,oRACF","names":["i0","KlassDetailComponent","constructor","klassServ","activatedRoute","modalService","router","ngOnInit","id","snapshot","paramMap","get","findOne","subscribe","v","klass","open","content","currentModal","ariaLabelledBy","backdrop","deleteById","delete","close","navigate","relativeTo","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/klass-detail/klass-detail.component.html","/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/klass-detail/klass-detail.component.ts"],"sourcesContent":["<div class=\"corps\">\n  <div class=\"detail\">\n    <h2>Détails de la classe</h2>\n\n    <div class=\"card w-25\">\n      <h4 class=\"card-header\">{{klass?.name}}</h4>\n      <div class=\"card-body\">\n        <div class=\"card-text\">\n          Professeur principal : {{klass?.principalTeacher?.lastName}} {{klass?.principalTeacher?.firstName}}\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <button class=\"btn btn-danger\" (click)=\"open(content)\">Supprimer la classe</button>\n      </div>\n    </div>\n    <br>\n    <div>\n      <button type=\"button\" class=\"btn btn-outline-info\" routerLink=\"../\">Retour vue classes</button>\n    </div>\n  </div>\n  <ng-template #content let-modal>\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">Verification pour suppression</h4>\n    </div>\n    <div class=\"modal-body\">\n      <form>\n        <div class=\"mb-3\">\n          Voulez-vous vraiment supprimer la classe : {{klass?.name}}\n        </div>\n      </form>\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteById()\">OUI</button>\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('Save click')\">NON</button>\n    </div>\n  </ng-template>\n\n  <app-calendar></app-calendar>\n</div>\n\n\n","import {Component, OnInit} from '@angular/core';\nimport {Teacher} from \"../../model/teacher.model\";\nimport {NgbModal, NgbModalRef} from \"@ng-bootstrap/ng-bootstrap\";\nimport {TeacherService} from \"../teacher.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Klass} from \"../../model/klass.model\";\nimport {KlassService} from \"../klass.service\";\n\n@Component({\n  selector: 'app-klass-detail',\n  templateUrl: './klass-detail.component.html',\n  styleUrls: ['./klass-detail.component.css']\n})\nexport class KlassDetailComponent implements OnInit{\n\n  klass: Klass | undefined;\n\n  currentModal: NgbModalRef | undefined\n\n  constructor(private klassServ: KlassService,\n              private activatedRoute: ActivatedRoute,\n              private modalService: NgbModal,\n              private router: Router) {\n  }\n\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"kId\") || \"\";\n    if (id != '') {\n      this.klassServ.findOne(+id).subscribe(v => this.klass = v)\n    }\n  }\n\n  open(content: any) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"})\n  }\n\n  deleteById() {\n    this.klassServ.delete(this.klass ? this.klass.id : -1).subscribe(v => {\n      this.currentModal?.close()\n      this.router.navigate(['../'], {relativeTo: this.activatedRoute})\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}