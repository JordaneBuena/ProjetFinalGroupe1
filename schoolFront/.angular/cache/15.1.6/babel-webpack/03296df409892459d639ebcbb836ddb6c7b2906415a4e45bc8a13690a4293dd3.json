{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../subject.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction SubjectComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"h4\", 5);\n    i0.ɵɵtext(2, \"Verification pour suppression\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"form\")(5, \"div\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SubjectComponent_ng_template_5_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteById());\n    });\n    i0.ɵɵtext(9, \"OUI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SubjectComponent_ng_template_5_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const modal_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r2.close(\"Save click\"));\n    });\n    i0.ɵɵtext(11, \"NON\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" Voulez-vous vraiment supprimer la mati\\u00E8re \", ctx_r1.subject == null ? null : ctx_r1.subject.name, \" ? \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"background-color\": a0\n  };\n};\nexport class SubjectComponent {\n  constructor(sServ, activatedRoute, modalService, router) {\n    this.sServ = sServ;\n    this.activatedRoute = activatedRoute;\n    this.modalService = modalService;\n    this.router = router;\n  }\n  ngOnInit() {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"tId\") || \"\";\n    if (id != '') {\n      this.sServ.getOne(+id).subscribe(v => this.subject = v);\n    }\n  }\n  open(content) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"\n    });\n  }\n  deleteById() {\n    this.sServ.delete(this.subject ? this.subject.id : -1).subscribe(v => {\n      this.currentModal?.close();\n      this.router.navigate(['../'], {\n        relativeTo: this.activatedRoute\n      });\n    });\n  }\n}\nSubjectComponent.ɵfac = function SubjectComponent_Factory(t) {\n  return new (t || SubjectComponent)(i0.ɵɵdirectiveInject(i1.SubjectService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i2.Router));\n};\nSubjectComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SubjectComponent,\n  selectors: [[\"app-subject\"]],\n  inputs: {\n    subject: \"subject\"\n  },\n  decls: 8,\n  vars: 8,\n  consts: [[1, \"container\", \"d-inline-flex\"], [1, \"card-body\", 3, \"ngStyle\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"content\", \"\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"]],\n  template: function SubjectComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function SubjectComponent_Template_button_click_3_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r0 = i0.ɵɵreference(6);\n        return i0.ɵɵresetView(ctx.open(_r0));\n      });\n      i0.ɵɵtext(4, \"X\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(5, SubjectComponent_ng_template_5_Template, 12, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelement(7, \"br\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"color\", \"white\")(\"border-block\", \"1px solid white\");\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(6, _c0, ctx.subject == null ? null : ctx.subject.color));\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.subject == null ? null : ctx.subject.name, \" \");\n    }\n  },\n  dependencies: [i4.NgStyle, i5.ɵNgNoValidate, i5.NgControlStatusGroup],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAUEA,8BAA0B;IACuBA,6CAA6B;IAAAA,iBAAK;IAEnFA,8BAAwB;IAGlBA,YACF;IAAAA,iBAAM;IAGVA,8BAA0B;IAC2BA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;IACtFA,kCAAuF;IAApCA;MAAA;MAAA;MAAA,OAASA,8BAAY,YAAY,CAAC;IAAA,EAAC;IAACA,oBAAG;IAAAA,iBAAS;;;;IAN/FA,eACF;IADEA,qIACF;;;;;;;;ACLN,OAAM,MAAOC,gBAAgB;EAM3BC,YAAoBC,KAAqB,EACrBC,cAA8B,EAC9BC,YAAsB,EACtBC,MAAc;IAHd,UAAK,GAALH,KAAK;IACL,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IACZ,WAAM,GAANC,MAAM;EAC1B;EACAC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACJ,cAAc,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE;IACjE,IAAIH,EAAE,IAAI,EAAE,EAAE;MACZ,IAAI,CAACL,KAAK,CAACS,MAAM,CAAC,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,CAAC,IAAI,IAAI,CAACC,OAAO,GAAGD,CAAC,CAAC;;EAE3D;EAEAE,IAAI,CAACC,OAAY;IACf,IAAI,CAACC,YAAY,GAAG,IAAI,CAACb,YAAY,CAACW,IAAI,CAACC,OAAO,EAAE;MAClDE,cAAc,EAAE,mBAAmB;MACnCC,QAAQ,EAAE;KAAS,CAAC;EACxB;EAEAC,UAAU;IACR,IAAI,CAAClB,KAAK,CAACmB,MAAM,CAAC,IAAI,CAACP,OAAO,GAAG,IAAI,CAACA,OAAO,CAACP,EAAE,GAAG,CAAC,CAAC,CAAC,CAACK,SAAS,CAACC,CAAC,IAAG;MACnE,IAAI,CAACI,YAAY,EAAEK,KAAK,EAAE;MAC1B,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE;QAACC,UAAU,EAAE,IAAI,CAACrB;MAAc,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;;AA7BWH,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAyB;EAAAC;IAAAZ;EAAA;EAAAa;EAAAC;EAAAC;EAAAC;IAAA;;MDZ7B/B,8BAAqC;MAGjCA,YAEF;MAAAA,iBAAM;MACNA,iCAA+D;MAAxBA;QAAAA;QAAA;QAAA,OAASA,4BAAa;MAAA,EAAC;MAACA,iBAAC;MAAAA,iBAAS;MAG3EA,mHAec;MACdA,qBAAI;;;MAvBGA,eAAuB;MAAvBA,gCAAuB;MADLA,oGAAgD;MAErEA,eAEF;MAFEA,8EAEF","names":["i0","SubjectComponent","constructor","sServ","activatedRoute","modalService","router","ngOnInit","id","snapshot","paramMap","get","getOne","subscribe","v","subject","open","content","currentModal","ariaLabelledBy","backdrop","deleteById","delete","close","navigate","relativeTo","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/subject/subject.component.html","/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/subject/subject.component.ts"],"sourcesContent":["<div class=\"container d-inline-flex\">\n  <div class=\"card-body\" [ngStyle]=\"{'background-color': subject?.color}\"\n       [style.color]=\"'white'\" [style.border-block]=\"'1px solid white'\">\n    {{subject?.name}}\n\n  </div>\n  <button class=\"btn btn-outline-danger\" (click)=\"open(content)\">X</button>\n</div>\n\n<ng-template #content let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">Verification pour suppression</h4>\n  </div>\n  <div class=\"modal-body\">\n    <form>\n      <div class=\"mb-3\">\n        Voulez-vous vraiment supprimer la matière {{subject?.name}} ?\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteById()\">OUI</button>\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('Save click')\">NON</button>\n  </div>\n</ng-template>\n<br>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Subject} from \"../../model/subject.model\";\nimport {SchoolService} from \"../school.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {SubjectService} from \"../subject.service\";\nimport {NgbModal, NgbModalRef} from \"@ng-bootstrap/ng-bootstrap\";\n\n@Component({\n  selector: 'app-subject',\n  templateUrl: './subject.component.html',\n  styleUrls: ['./subject.component.css']\n})\nexport class SubjectComponent {\n\n  @Input()\n  subject: Subject | undefined;\n  currentModal: NgbModalRef | undefined\n\n  constructor(private sServ: SubjectService,\n              private activatedRoute: ActivatedRoute,\n              private modalService: NgbModal,\n              private router: Router) {\n  }\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"tId\") || \"\";\n    if (id != '') {\n      this.sServ.getOne(+id).subscribe(v => this.subject = v)\n    }\n  }\n\n  open(content: any) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"})\n  }\n\n  deleteById() {\n    this.sServ.delete(this.subject ? this.subject.id : -1).subscribe(v => {\n      this.currentModal?.close()\n      this.router.navigate(['../'], {relativeTo: this.activatedRoute})\n    })\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}