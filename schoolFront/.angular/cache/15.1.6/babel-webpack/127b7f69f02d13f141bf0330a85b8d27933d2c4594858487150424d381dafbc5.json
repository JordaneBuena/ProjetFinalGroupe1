{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../teacher.service\";\nimport * as i2 from \"../subject.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nconst _c0 = function (a0) {\n  return {\n    \"color\": a0\n  };\n};\nfunction TeacherDetailComponent_li_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(3, _c0, s_r3.color));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", s_r3.name, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", s_r3.color, \"\");\n  }\n}\nfunction TeacherDetailComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"h4\", 15);\n    i0.ɵɵtext(2, \"Verification pour suppression\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 16)(4, \"form\")(5, \"div\", 17);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 18)(8, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function TeacherDetailComponent_ng_template_25_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteById());\n    });\n    i0.ɵɵtext(9, \"OUI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function TeacherDetailComponent_ng_template_25_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const modal_r4 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r4.close(\"Save click\"));\n    });\n    i0.ɵɵtext(11, \"NON\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\" Voulez-vous vraiment supprimer l'ecole : \", ctx_r2.teacher == null ? null : ctx_r2.teacher.lastName, \" \", ctx_r2.teacher == null ? null : ctx_r2.teacher.firstName, \" \");\n  }\n}\nexport class TeacherDetailComponent {\n  constructor(sServ, subjectServ, activatedRoute, modalService, router) {\n    this.sServ = sServ;\n    this.subjectServ = subjectServ;\n    this.activatedRoute = activatedRoute;\n    this.modalService = modalService;\n    this.router = router;\n  }\n  ngOnInit() {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"tId\") || \"\";\n    if (id != '') {\n      this.sServ.findOne(+id).subscribe(v => this.teacher = v);\n    }\n    this.subjectServ.getAll().subscribe(v => this.subjects);\n  }\n  open(content) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"\n    });\n  }\n  deleteById() {\n    this.sServ.delete(this.teacher ? this.teacher.id : -1).subscribe(v => {\n      this.currentModal?.close();\n      this.router.navigate(['../'], {\n        relativeTo: this.activatedRoute\n      });\n    });\n  }\n}\nTeacherDetailComponent.ɵfac = function TeacherDetailComponent_Factory(t) {\n  return new (t || TeacherDetailComponent)(i0.ɵɵdirectiveInject(i1.TeacherService), i0.ɵɵdirectiveInject(i2.SubjectService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.NgbModal), i0.ɵɵdirectiveInject(i3.Router));\n};\nTeacherDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TeacherDetailComponent,\n  selectors: [[\"app-teacher-detail\"]],\n  decls: 27,\n  vars: 8,\n  consts: [[1, \"corps\"], [1, \"detail\"], [1, \"card\", \"w-50\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"card-text\"], [1, \"list-group\"], [\"class\", \"list-group-item\", 3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [1, \"card-footer\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"routerLink\", \"./subjects/modify\", 1, \"btn\", \"btn-outline-info\"], [\"type\", \"button\", \"routerLink\", \"../\", 1, \"btn\", \"btn-outline-info\"], [\"content\", \"\"], [1, \"list-group-item\", 3, \"ngStyle\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"]],\n  template: function TeacherDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r8 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3, \"D\\u00E9tails du professeur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"h4\", 3);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5);\n      i0.ɵɵtext(9);\n      i0.ɵɵpipe(10, \"date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 5);\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ul\", 6);\n      i0.ɵɵtemplate(14, TeacherDetailComponent_li_14_Template, 5, 5, \"li\", 7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 8)(16, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function TeacherDetailComponent_Template_button_click_16_listener() {\n        i0.ɵɵrestoreView(_r8);\n        const _r1 = i0.ɵɵreference(26);\n        return i0.ɵɵresetView(ctx.open(_r1));\n      });\n      i0.ɵɵtext(17, \"Supprimer le professeur\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"span\")(19, \"button\", 10);\n      i0.ɵɵtext(20, \"Modifier ses mati\\u00E8res\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(21, \"br\");\n      i0.ɵɵelementStart(22, \"div\")(23, \"button\", 11);\n      i0.ɵɵtext(24, \"Retour vue professeur\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(25, TeacherDetailComponent_ng_template_25_Template, 12, 2, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate2(\"\", ctx.teacher == null ? null : ctx.teacher.lastName, \" \", ctx.teacher == null ? null : ctx.teacher.firstName, \"\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" N\\u00E9(e) le : \", i0.ɵɵpipeBind2(10, 5, ctx.teacher == null ? null : ctx.teacher.dateOfBirth, \"fullDate\"), \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" Est le professeur principal de la classe : \", ctx.teacher == null ? null : ctx.teacher.principaleKlass == null ? null : ctx.teacher.principaleKlass.name, \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.teacher == null ? null : ctx.teacher.subjects);\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgStyle, i3.RouterLink, i6.ɵNgNoValidate, i6.NgControlStatusGroup, i5.DatePipe],\n  styles: [\".corps[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{\\n  padding: 20px 0 20px 50px;\\n  max-width: 100vw;\\n}\\n\\nspan[_ngcontent-%COMP%]{\\n  padding-left: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdGVhY2hlci1kZXRhaWwvdGVhY2hlci1kZXRhaWwuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUF5QjtFQUN6QixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIuY29ycHMgLmRldGFpbHtcbiAgcGFkZGluZzogMjBweCAwIDIwcHggNTBweDtcbiAgbWF4LXdpZHRoOiAxMDB2dztcbn1cblxuc3BhbntcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","TeacherDetailComponent","constructor","sServ","subjectServ","activatedRoute","modalService","router","ngOnInit","id","snapshot","paramMap","get","findOne","subscribe","v","teacher","getAll","subjects","open","content","currentModal","ariaLabelledBy","backdrop","deleteById","delete","close","navigate","relativeTo","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/teacher-detail/teacher-detail.component.html","/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/teacher-detail/teacher-detail.component.ts"],"sourcesContent":["<div class=\"corps\">\n  <div class=\"detail\">\n    <h2>Détails du professeur</h2>\n\n    <div class=\"card w-50\">\n      <h4 class=\"card-header\">{{teacher?.lastName}} {{teacher?.firstName}}</h4>\n      <div class=\"card-body\">\n        <div class=\"card-text\">\n          Né(e) le : {{teacher?.dateOfBirth | date:'fullDate'}}\n        </div>\n        <div class=\"card-text\">\n          Est le professeur principal de la classe : {{teacher?.principaleKlass?.name}}\n        </div>\n        <ul class=\"list-group\">\n          <li *ngFor=\"let s of teacher?.subjects\" [ngStyle]=\"{'color': s.color}\" class=\"list-group-item\">\n            {{s.name}}<br>\n            {{s.color}}<br>\n          </li>\n        </ul>\n      </div>\n      <div class=\"card-footer\">\n        <button class=\"btn btn-danger\" (click)=\"open(content)\">Supprimer le professeur</button>\n        <span><button type=\"button\" class=\"btn btn-outline-info\" routerLink=\"./subjects/modify\">Modifier ses matières</button></span>\n      </div>\n    </div>\n    <br>\n    <div>\n      <button type=\"button\" class=\"btn btn-outline-info\" routerLink=\"../\">Retour vue professeur</button>\n    </div>\n  </div>\n\n  <ng-template #content let-modal>\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">Verification pour suppression</h4>\n    </div>\n    <div class=\"modal-body\">\n      <form>\n        <div class=\"mb-3\">\n          Voulez-vous vraiment supprimer l'ecole : {{teacher?.lastName}} {{teacher?.firstName}}\n        </div>\n      </form>\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteById()\">OUI</button>\n      <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('Save click')\">NON</button>\n    </div>\n  </ng-template>\n\n\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {SchoolModel} from \"../../model/school.model\";\nimport {SchoolService} from \"../school.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Teacher} from \"../../model/teacher.model\";\nimport {TeacherService} from \"../teacher.service\";\nimport {NgbModal, NgbModalRef} from \"@ng-bootstrap/ng-bootstrap\";\nimport {Subject} from \"../../model/subject.model\";\nimport {SubjectService} from \"../subject.service\";\n\n@Component({\n  selector: 'app-teacher-detail',\n  templateUrl: './teacher-detail.component.html',\n  styleUrls: ['./teacher-detail.component.css']\n})\nexport class TeacherDetailComponent implements OnInit{\n\n  teacher: Teacher | undefined;\n\n  currentModal: NgbModalRef | undefined\n\n  subjects!: Subject[]\n\n  constructor(private sServ: TeacherService,\n              private subjectServ: SubjectService,\n              private activatedRoute: ActivatedRoute,\n              private modalService: NgbModal,\n              private router: Router) {\n  }\n\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"tId\") || \"\";\n    if (id != '') {\n      this.sServ.findOne(+id).subscribe(v => this.teacher = v)\n    }\n    this.subjectServ.getAll().subscribe(v =>\n      this.subjects)\n\n  }\n\n  open(content: any) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"})\n  }\n\n  deleteById() {\n    this.sServ.delete(this.teacher ? this.teacher.id : -1).subscribe(v => {\n      this.currentModal?.close()\n      this.router.navigate(['../'], {relativeTo: this.activatedRoute})\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}