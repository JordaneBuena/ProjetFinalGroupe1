{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../class-room.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = function (a0) {\n  return {\n    \"color\": a0\n  };\n};\nfunction ClassRoomDetailComponent_div_10_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, s_r4.color));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r4.name);\n  }\n}\nfunction ClassRoomDetailComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"ul\");\n    i0.ɵɵtemplate(2, ClassRoomDetailComponent_div_10_li_2_Template, 2, 4, \"li\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.room == null ? null : ctx_r0.room.subjectsExcluded);\n  }\n}\nfunction ClassRoomDetailComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"h4\", 12);\n    i0.ɵɵtext(2, \"Verification pour suppression\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(3, \"div\", 13)(4, \"form\")(5, \"div\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 15)(8, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ClassRoomDetailComponent_ng_template_18_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteById());\n    });\n    i0.ɵɵtext(9, \"OUI\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ClassRoomDetailComponent_ng_template_18_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const modal_r5 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(modal_r5.close(\"Save click\"));\n    });\n    i0.ɵɵtext(11, \"NON\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" Voulez-vous vraiment supprimer la salle : \", ctx_r2.room == null ? null : ctx_r2.room.name, \" \");\n  }\n}\nexport class ClassRoomDetailComponent {\n  constructor(roomServ, activatedRoute, modalService, router) {\n    this.roomServ = roomServ;\n    this.activatedRoute = activatedRoute;\n    this.modalService = modalService;\n    this.router = router;\n  }\n  ngOnInit() {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"rId\") || \"\";\n    if (id != '') {\n      this.roomServ.findOne(+id).subscribe(v => this.room = v);\n    }\n  }\n  open(content) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"\n    });\n  }\n  deleteById() {\n    this.roomServ.delete(this.room ? this.room.id : -1).subscribe(v => {\n      this.currentModal?.close();\n      this.router.navigate(['../'], {\n        relativeTo: this.activatedRoute\n      });\n    });\n  }\n}\nClassRoomDetailComponent.ɵfac = function ClassRoomDetailComponent_Factory(t) {\n  return new (t || ClassRoomDetailComponent)(i0.ɵɵdirectiveInject(i1.ClassRoomService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NgbModal), i0.ɵɵdirectiveInject(i2.Router));\n};\nClassRoomDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClassRoomDetailComponent,\n  selectors: [[\"app-class-room-detail\"]],\n  decls: 20,\n  vars: 3,\n  consts: [[1, \"card\", \"w-50\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"card-text\"], [\"class\", \"card-text\", 4, \"ngIf\"], [1, \"card-footer\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [\"type\", \"button\", \"routerLink\", \"../\", 1, \"btn\", \"btn-outline-info\"], [\"content\", \"\"], [3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngStyle\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"mb-3\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-dark\", 3, \"click\"]],\n  template: function ClassRoomDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r9 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"D\\u00E9tails de la salle\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 0)(3, \"h4\", 1);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 3);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"span\");\n      i0.ɵɵtext(9, \"Mati\\u00E8res non support\\u00E9e(s) par la classe \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, ClassRoomDetailComponent_div_10_Template, 3, 1, \"div\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 5)(12, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function ClassRoomDetailComponent_Template_button_click_12_listener() {\n        i0.ɵɵrestoreView(_r9);\n        const _r1 = i0.ɵɵreference(19);\n        return i0.ɵɵresetView(ctx.open(_r1));\n      });\n      i0.ɵɵtext(13, \"Supprimer la salle\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementStart(15, \"div\")(16, \"button\", 7);\n      i0.ɵɵtext(17, \"Retour vue salles\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(18, ClassRoomDetailComponent_ng_template_18_Template, 12, 1, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.room == null ? null : ctx.room.name);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" Capacit\\u00E9 de la salle : \", ctx.room == null ? null : ctx.room.capacite, \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.room == null ? null : ctx.room.subjectsExcluded);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i4.NgStyle, i2.RouterLink, i5.ɵNgNoValidate, i5.NgControlStatusGroup],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;IAWQA,8BAA4E;IAAAA,YAAU;IAAAA,iBAAK;;;;IAA9CA,gEAA8B;IAACA,eAAU;IAAVA,+BAAU;;;;;IAF1FA,8BAAsD;IAElDA,8EAA2F;IAC7FA,iBAAK;;;;IADeA,eAAyB;IAAzBA,mFAAyB;;;;;;IAejDA,+BAA0B;IACuBA,6CAA6B;IAAAA,iBAAK;IAEnFA,+BAAwB;IAGlBA,YACF;IAAAA,iBAAM;IAGVA,+BAA0B;IAC2BA;MAAAA;MAAA;MAAA,OAASA,kCAAY;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;IACtFA,mCAAuF;IAApCA;MAAA;MAAA;MAAA,OAASA,8BAAY,YAAY,CAAC;IAAA,EAAC;IAACA,oBAAG;IAAAA,iBAAS;;;;IAN/FA,eACF;IADEA,wHACF;;;ACtBN,OAAM,MAAOC,wBAAwB;EAMnCC,YAAoBC,QAA0B,EAC1BC,cAA8B,EAC9BC,YAAsB,EACtBC,MAAc;IAHd,aAAQ,GAARH,QAAQ;IACR,mBAAc,GAAdC,cAAc;IACd,iBAAY,GAAZC,YAAY;IACZ,WAAM,GAANC,MAAM;EAC1B;EAEAC,QAAQ;IACN,MAAMC,EAAE,GAAG,IAAI,CAACJ,cAAc,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE;IACjE,IAAIH,EAAE,IAAI,EAAE,EAAE;MACZ,IAAI,CAACL,QAAQ,CAACS,OAAO,CAAC,CAACJ,EAAE,CAAC,CAACK,SAAS,CAACC,CAAC,IAAI,IAAI,CAACC,IAAI,GAAGD,CAAC,CAAC;;EAE5D;EAEAE,IAAI,CAACC,OAAY;IACf,IAAI,CAACC,YAAY,GAAG,IAAI,CAACb,YAAY,CAACW,IAAI,CAACC,OAAO,EAAE;MAClDE,cAAc,EAAE,mBAAmB;MACnCC,QAAQ,EAAE;KAAS,CAAC;EACxB;EAEAC,UAAU;IACR,IAAI,CAAClB,QAAQ,CAACmB,MAAM,CAAC,IAAI,CAACP,IAAI,GAAG,IAAI,CAACA,IAAI,CAACP,EAAE,GAAG,CAAC,CAAC,CAAC,CAACK,SAAS,CAACC,CAAC,IAAG;MAChE,IAAI,CAACI,YAAY,EAAEK,KAAK,EAAE;MAC1B,IAAI,CAACjB,MAAM,CAACkB,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE;QAACC,UAAU,EAAE,IAAI,CAACrB;MAAc,CAAC,CAAC;IAClE,CAAC,CAAC;EACJ;;AA9BWH,wBAAwB;mBAAxBA,wBAAwB;AAAA;AAAxBA,wBAAwB;QAAxBA,wBAAwB;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDXrC9B,0BAAI;MAAAA,wCAAmB;MAAAA,iBAAK;MAE5BA,8BAAuB;MACGA,YAAc;MAAAA,iBAAK;MAC3CA,8BAAuB;MAEnBA,YACF;MAAAA,iBAAM;MACNA,4BAAM;MAAAA,kEAAwC;MAAAA,iBAAO;MACrDA,2EAIM;MACRA,iBAAM;MACNA,+BAAyB;MACQA;QAAAA;QAAA;QAAA,OAASA,4BAAa;MAAA,EAAC;MAACA,mCAAkB;MAAAA,iBAAS;MAGtFA,sBAAI;MACJA,4BAAK;MACiEA,kCAAiB;MAAAA,iBAAS;MAIhGA,6HAec;;;MArCYA,eAAc;MAAdA,6DAAc;MAGlCA,eACF;MADEA,wGACF;MAEMA,eAA4B;MAA5BA,0EAA4B","names":["i0","ClassRoomDetailComponent","constructor","roomServ","activatedRoute","modalService","router","ngOnInit","id","snapshot","paramMap","get","findOne","subscribe","v","room","open","content","currentModal","ariaLabelledBy","backdrop","deleteById","delete","close","navigate","relativeTo","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/class-room-detail/class-room-detail.component.html","/Users/jord/Desktop/ProjetFinal/ProjetFinalGroupe1/schoolFront/src/app/class-room-detail/class-room-detail.component.ts"],"sourcesContent":["<h2>Détails de la salle</h2>\n\n<div class=\"card w-50\">\n  <h4 class=\"card-header\">{{room?.name}}</h4>\n  <div class=\"card-body\">\n    <div class=\"card-text\">\n      Capacité de la salle : {{room?.capacite}}\n    </div>\n    <span>Matières non supportée(s) par la classe </span>\n    <div *ngIf=\"room?.subjectsExcluded\" class=\"card-text\">\n      <ul>\n        <li *ngFor=\"let s of room?.subjectsExcluded\" [ngStyle]=\"{'color': s.color}\">{{s.name}}</li>\n      </ul>\n    </div>\n  </div>\n  <div class=\"card-footer\">\n    <button class=\"btn btn-danger\" (click)=\"open(content)\">Supprimer la salle</button>\n  </div>\n</div>\n<br>\n<div>\n  <button type=\"button\" class=\"btn btn-outline-info\" routerLink=\"../\">Retour vue salles</button>\n</div>\n\n\n<ng-template #content let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">Verification pour suppression</h4>\n  </div>\n  <div class=\"modal-body\">\n    <form>\n      <div class=\"mb-3\">\n        Voulez-vous vraiment supprimer la salle : {{room?.name}}\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"deleteById()\">OUI</button>\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"modal.close('Save click')\">NON</button>\n  </div>\n</ng-template>\n","import {Component, OnInit} from '@angular/core';\nimport {NgbModal, NgbModalRef} from \"@ng-bootstrap/ng-bootstrap\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {ClassRoom} from \"../../model/classRoom.model\";\nimport {ClassRoomService} from \"../class-room.service\";\n\n@Component({\n  selector: 'app-class-room-detail',\n  templateUrl: './class-room-detail.component.html',\n  styleUrls: ['./class-room-detail.component.css']\n})\nexport class ClassRoomDetailComponent implements OnInit{\n\n  room: ClassRoom | undefined;\n\n  currentModal: NgbModalRef | undefined\n\n  constructor(private roomServ: ClassRoomService,\n              private activatedRoute: ActivatedRoute,\n              private modalService: NgbModal,\n              private router: Router) {\n  }\n\n  ngOnInit(): void {\n    const id = this.activatedRoute.snapshot.paramMap.get(\"rId\") || \"\";\n    if (id != '') {\n      this.roomServ.findOne(+id).subscribe(v => this.room = v)\n    }\n  }\n\n  open(content: any) {\n    this.currentModal = this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title',\n      backdrop: \"static\"})\n  }\n\n  deleteById() {\n    this.roomServ.delete(this.room ? this.room.id : -1).subscribe(v => {\n      this.currentModal?.close()\n      this.router.navigate(['../'], {relativeTo: this.activatedRoute})\n    })\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}